class HookedStream {
    constructor(_stream, hook = {}) {
        this._stream = _stream;
        this.hook = hook;
    }
    get ended() {
        return this._stream.ended;
    }
    write(data) {
        if (this.hook.onWrite)
            this.hook.onWrite(data);
        return this._stream.write(data);
    }
    async read(buffer) {
        const read = await this._stream.read(buffer);
        if (this.hook.onRead)
            this.hook.onRead(buffer, read);
        return read;
    }
    close() {
        if (this.hook.onClose)
            this.hook.onClose();
        this._stream.close();
    }
}

export { HookedStream };
//# sourceMappingURL=stream-hook.js.map
