import { TextContent, AttachmentContent } from './content/default.js';

class ChatBuilder {
    constructor() {
        this._contents = [];
    }
    text(text) {
        return this.append(new TextContent(text));
    }
    attachment(attachment) {
        return this.append(new AttachmentContent(attachment));
    }
    append(content) {
        this._contents.push(content);
        return this;
    }
    shout(flag) {
        return this.attachment({ shout: flag });
    }
    build(data) {
        let chat;
        if (typeof data === 'object') {
            chat = data;
        }
        else if (typeof data === 'number') {
            chat = {
                type: data,
                text: '',
                attachment: {},
            };
        }
        else {
            throw new Error('Unknown ChatType or Chat object supplied');
        }
        if (!chat.attachment)
            chat.attachment = {};
        for (const content of this._contents) {
            content.append(chat);
        }
        return chat;
    }
}

export { ChatBuilder };
//# sourceMappingURL=chat-builder.js.map
